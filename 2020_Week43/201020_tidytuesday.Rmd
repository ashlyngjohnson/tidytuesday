---
title: 'Tidy Tuesday: 10/20/20 - Great American Beer Festival'
author: "Ashlyn Johnson"
date: "10/26/2020"
output: html_document
---

```{r, message = FALSE}
library(tidyverse)
library(tidytuesdayR) 
library(flextable)
library(officer)
```

This week's Tidy Tuesday data comes from the Great American Beer Festival (GABF). There are many different categories of beers and within each category a bronze, silver, or gold medal can be awarded. 


### Getting the Data
```{r}
tuesdata <- tidytuesdayR::tt_load(2020, week = 43)

beer_awards <- tuesdata$beer_awards
```

### Exploration using a table

Being that I live in Georgia currently, I am interested to know how successful Georgia beers have been in the GABF. First, I'll use the `flextable` package to make a table of the winning Georgia beers. 

```{r}


beer_awards %>% 
  filter(state == "GA") %>% 
  select(-state) %>% 
  mutate(medal = factor(medal, levels = c("Bronze", "Silver", "Gold"))) %>%
  arrange(medal, city, brewery, year) %>% 
  rename(Medal = medal, 
         City = city, 
         Brewery = brewery, 
         Beer = beer_name, 
         Category = category, 
         Year = year) %>% 
  as_grouped_data(groups = c("Medal", "City", "Brewery")) %>% 
  flextable() %>% 
  colformat_char(j = "Year", na_str = "") %>% 
  bg(i = ~ Medal == "Bronze", bg = "#d0700e") %>% 
  bg(i = ~ Medal == "Silver", bg = "darkgray") %>% 
  bg(i = ~ Medal == "Gold", bg = "gold") %>% 
  bold(part = "header") %>% 
  bold(j = c("Medal", "City", "Brewery")) %>% 
  fontsize(size = 15, part = "header") %>% 
  fontsize(i = ~ Medal %in% c("Bronze", "Silver", "Gold"), size = 14) %>% 
  autofit()
  
  
  
  
```

